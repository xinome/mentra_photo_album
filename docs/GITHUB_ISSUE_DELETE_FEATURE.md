## ✨ 機能の概要

アルバムと写真の削除機能を実装しました。権限チェックを実装し、作成者本人のみが削除できるようにしました。

## 📋 要件

* アルバム削除：作成者本人のみ削除可能
* 写真削除：投稿者本人のみ削除可能
* 削除可能なユーザー以外が見ている場合は削除ボタンを非表示にするUI
* アルバム削除はアルバム詳細ページの操作メニューに配置

## ✅ 実装内容

### 1. 写真削除機能の権限チェック実装

* `PhotoManagementSection.tsx`に`uploaderId`と`currentUserId`を追加
* 投稿者本人のみ削除ボタンを表示するように実装
* `AlbumDetailPage`で写真取得時に`uploader_id`を取得
* 削除時に権限チェックを実装（投稿者本人のみ削除可能）

### 2. アルバム削除機能の実装

* `AlbumViewer.tsx`の操作メニュー（編集、共有、ダウンロード）の最後に削除ボタンを追加
* 作成者本人のみ削除ボタンを表示するように実装
* `AlbumDetailPage`に`handleAlbumDelete`関数を実装
  - 権限チェック（作成者本人のみ）
  - ストレージから写真を削除
  - データベースからアルバムを削除
  - 削除後、アルバム一覧ページにリダイレクト

### 3. UI改善

* アルバム一覧ページから削除ボタンを削除（カテゴリ名との重複と誤操作を防止）
* アルバム詳細ページの操作メニューに削除ボタンを配置
* AlertDialogで削除確認ダイアログを表示

## 📁 変更ファイル

* `src/app/albums/[id]/components/PhotoManagementSection.tsx` - 写真削除ボタンの権限チェック実装
* `src/app/albums/[id]/page.tsx` - 写真削除時の権限チェック、アルバム削除機能の実装
* `src/components/AlbumViewer.tsx` - アルバム削除ボタンの追加
* `src/components/AlbumsListClient.tsx` - アルバム一覧ページから削除ボタンを削除

## ✅ 検証項目

* [x] 写真削除機能が動作すること（投稿者本人のみ削除可能）
* [x] アルバム削除機能が動作すること（作成者本人のみ削除可能）
* [x] 権限のないユーザーには削除ボタンが表示されないこと
* [x] 削除確認ダイアログが表示されること
* [x] ストレージからもファイルが削除されること
* [x] アルバム削除後、アルバム一覧ページにリダイレクトされること
* [x] エラーハンドリングが適切に実装されていること

## 🔗 関連情報

* 実装参考: Figma Makeで実装された削除機能
* 優先度: 高（1人称操作に必須）

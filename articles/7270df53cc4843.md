---
title: "React + Redux / Redux Toolkitã‚’ä½¿ã£ãŸéåŒæœŸé€šä¿¡ã®æ¤œè¨¼"
emoji: "ğŸŒŸ"
type: "tech"
topics:
  - "javascript"
  - "react"
  - "redux"
  - "reduxtoolkit"
published: true
published_at: "2025-07-09 19:00"
---

:::message
ã“ã®è¨˜äº‹ã¯ Qiita ã«2024å¹´2æœˆã«æŠ•ç¨¿ã—ãŸå†…å®¹ã‚’ã€å†ç·¨é›†ã—ãŸã‚‚ã®ã§ã™ã€‚
:::

## æ¦‚è¦

ä»Šå›ã¯Webã‚¢ãƒ—ãƒªã«ãŠã„ã¦é‡è¦ãªè¦ç´ ã¨ãªã‚‹éåŒæœŸé€šä¿¡ã‚’ã€Reduxã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚
æœ¬è¨˜äº‹ã‚’æ›¸ãã«ã‚ãŸã£ã¦è‰²ã€…èª¿ã¹ã¦è¦‹ã¾ã—ãŸãŒã€ã‚·ãƒ³ãƒ—ãƒ«ã«éåŒæœŸé€šä¿¡ã¨è¨€ã£ã¦ã‚‚ãã®å®Ÿè£…æ–¹æ³•ã¯å¤šè§’çš„ã§å¦‚ä½•æ§˜ã«ã‚‚ã§ãã‚‹ã®ã§ã¯ã¨ã„ã†å°è±¡ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚
ã¾ãŸã€ã‚ˆãç›®ã«ã—ãŸ `createStore` ã‚’ä½¿ã£ãŸå®Ÿè£…æ–¹æ³•ã¯ç¾æ™‚ç‚¹ã§éæ¨å¥¨ã¨ãªã£ã¦ã„ãŸã‚Šã€å­¦ç¿’è¦ç´ ã¨ãƒˆãƒ¬ãƒ³ãƒ‰è¦ç´ ãŒæƒ…å ±ã¨ã—ã¦æ··åœ¨ã—ã¦ã„ãŸã‚Šã¨è‡ªåˆ†ã«ã¨ã£ã¦ã®è½ã¨ã—æ‰€ã‚’è¦‹ã¤ã‘ã‚‹ã®ã«ã‚‚ç›¸å½“è‹¦åŠ´ã—ãŸçµŒç·¯ãŒã‚ã‚Šã¾ã™ã€‚
ã‚ãã¾ã§ä¸€è¦‹è§£ã¨ã„ã†å½¢ã§è¦‹ã¦ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚


### å®Ÿè£…æ©Ÿèƒ½

- Reduxã‚’ä½¿ã£ãŸstore, reducer, actionã®å®Ÿè£…
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§å®Ÿè£…ã—ãŸAPIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®èª­ã¿è¾¼ã¿ã€œè¡¨ç¤º



| é …ç•ª | è¨˜äº‹ |
| :--- | :--- |
| 1 | [React + Django + CORSã‚’ä½¿ã£ãŸãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ / ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿é€£æº](https://zenn.dev/xinome/articles/6025914fbe07f3) |
| 2 | [Django ç®¡ç†ç”»é¢ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](https://zenn.dev/xinome/articles/1dac5d48c25fe7) |
| 3 | [Django REST framework(DRF)ã‚’ä½¿ã£ãŸAPIã‚µãƒ¼ãƒãƒ¼ã¨Reactã¨ã®ãƒ‡ãƒ¼ã‚¿é€£æº](https://zenn.dev/xinome/articles/4ddf5b02bac39a) |
| 4 | [Django REST frameworkã®serializersã‚’ä½¿ã£ãŸå¤–éƒ¨ã‚­ãƒ¼ãƒ¢ãƒ‡ãƒ«ã®å‚ç…§](https://zenn.dev/xinome/articles/8fe337a7a6cd08) |
| 5 | React + Redux / Redux Toolkitã‚’ä½¿ã£ãŸéåŒæœŸé€šä¿¡ã®æ¤œè¨¼ï¼ˆæœ¬è¨˜äº‹ï¼‰ |
| 6 | APIã‚’ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã€ŒPostmanã€ã‚’ä½¿ã£ãŸDjangoã¨ã®CRUDæ©Ÿèƒ½å®Ÿè£…(è¨­è¨ˆç·¨)ï¼ˆå¾Œæ—¥å…¬é–‹ï¼‰ |
| 7 | APIã‚’ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã€ŒPostmanã€ã‚’ä½¿ã£ãŸDjangoã¨ã®CRUDæ©Ÿèƒ½å®Ÿè£…(å®Ÿè£…ç·¨)ï¼ˆå¾Œæ—¥å…¬é–‹ï¼‰ |



## ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

ä»Šå›ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚‚ã®ã‚’ãƒ¡ã‚¤ãƒ³ã«æŠœç²‹

- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰(React / JavaScript)

```
[Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ]
â”œâ”€â”€ src
    â”œâ”€â”€ components
          :
    â”œâ”€â”€ features  # æ–°è¦è¿½åŠ 
    â”‚   â”œâ”€â”€ mypage
    â”‚   â”‚   â””â”€â”€ mypageSlice.js
    â”œâ”€â”€ pages
    â”‚   â””â”€â”€ Mypage.js
    â”œâ”€â”€ reducers  # æ–°è¦è¿½åŠ 
    â”‚   â””â”€â”€ index.js
    â””â”€â”€ store  # æ–°è¦è¿½åŠ 
    â”‚   â””â”€â”€ index.js
    â”œâ”€â”€ BaseApp.css
    â”œâ”€â”€ BaseApp.js
    â””â”€â”€ index.js
```



## Reduxã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

[å…¬å¼ã‚µã‚¤ãƒˆ](https://redux.js.org/introduction/getting-started)ã¨ã€ãã®ä¸­ã§ä½¿ç”¨ã‚’æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹[Redux Toolkit](https://redux-toolkit.js.org/introduction/getting-started)ã‚’ä½µã›ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

- Redux Core
```bash
# NPM
npm install redux

# Yarn
yarn add redux
```

- Redux Toolkit
```bash
# NPM
npm install @reduxjs/toolkit

# Yarn
yarn add @reduxjs/toolkit
```

Reactã§ä½¿ã†å ´åˆã¯ [React-Redux](https://redux.js.org/introduction/installation) ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã™ã€‚

```bash
npm install react-redux
```



## å®Ÿè£…æ–¹æ³•

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

ã¾ãšä»Šå›å®Ÿè£…ã™ã‚‹é–¢æ•°ã‚’ã¾ã¨ã‚ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

- Redux
    - [useEffect](https://ja.react.dev/reference/react/useEffect): ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å¾Œã«ç‰¹å®šã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®hooks
    - [useSelector](https://react-redux.js.org/api/hooks): storeã®stateã‚’å‚ç…§ã™ã‚‹ãŸã‚ã®hooks
    - [useDispatch](https://react-redux.js.org/api/hooks): storeã®stateã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã®hooks
    - [combineReducers](https://redux.js.org/api/combinereducers): è¤‡æ•°ã®reducerã‚’çµåˆã—ã¦storeã«æ¸¡ã™
- Redux Toolkit
    - [configureStore](https://redux-toolkit.js.org/api/configureStore): storeã‚’ä½œæˆã™ã‚‹ãŸã‚ã®hooks
    - [createAsyncThunk](https://redux-toolkit.js.org/api/createAsyncThunk): éåŒæœŸå‡¦ç†ã‚’è¡Œã†é–¢æ•°ã‚’ä½œæˆã™ã‚‹hooks
    - [createSlice](https://redux-toolkit.js.org/api/createslice): reducerã¨actionã‚’ä¸€ç·’ã«ä½œæˆã™ã‚‹ãŸã‚ã®hooks

storeã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã§ä¿æœ‰ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã®ã“ã¨ã§ã€è¦ªå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ©‹æ¸¡ã—ã¨ãªã£ã¦ã„ã‚‹propsã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç‹¬è‡ªã§æŒã£ã¦ã„ã‚‹stateã®ã¿ã§ã‚„ã‚Šå–ã‚Šã—ã¦ã„ãŸãƒã‚±ãƒ„ãƒªãƒ¬ãƒ¼ã®ã‚ˆã†ãªçŠ¶æ…‹ã‚’è§£æ¶ˆã§ãã‚‹ã‚‚ã®ã§ã™ã€‚


### Store / Reducerå®Ÿè£…

å‚ç…§å…ˆã¯JSONãƒ‡ãƒ¼ã‚¿ã‚’ç„¡æ–™ã§å–å¾—ã§ãã‚‹[JSONPlaceholder](https://jsonplaceholder.typicode.com)ã«ã—ã¦ã„ã¾ã™ã€‚

```javascript: /src/features/mypage/mypageSlice.js
import { createAsyncThunk, createSlice } from "@reduxjs/toolkit";
import axios from "axios";

const initialState = {
  isLoading: false,
  items: [],
};

const BASE_API_URL = "https://jsonplaceholder.typicode.com";

/** ãƒ‡ãƒ¼ã‚¿å–å¾—éåŒæœŸå‡¦ç† */
export const fetchAccountList = createAsyncThunk(
  "mypage/getAccountList",  // actionã®åå‰
  async (id) => {  // éåŒæœŸå‡¦ç†ã‚’è¡Œã†é–¢æ•°ã‚’æŒ‡å®š
    const response = await axios.get(`${BASE_API_URL}/users/${id}`);
    return response.data;
  }
);

// Slices
export const accountSlice = createSlice({
  name: "account",  // stateã®åå‰
  initialState: initialState,  // stateã®åˆæœŸå€¤
  reducers: {
    getAccountList: (state, action) => {
      return {
        ...state,
        items: action.payload,
      };
    },
  },
  // ä½œæˆã—ãŸreducerã«å¯¾ã—ã¦ã€ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«å¿œã˜ã¦è¿½åŠ ã§reducerã‚’ä½œæˆã™ã‚‹ãŸã‚ã®hooks
  extraReducers: (builder) => {
    builder
      .addCase(fetchAccountList.pending, (state) => {
        return {
          ...state,
          isLoading: true,
        };
      })
      .addCase(fetchAccountList.fulfilled, (state, action) => {
        return {
          ...state,
          items: action.payload,
          isLoading: false,
        };
      })
      .addCase(fetchAccountList.rejected, (state) => {
        return {
          ...state,
          isLoading: false,
        };
      });
  },
});

// å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰stateã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’ã—ã¦ãŠã
export const { getAccountList } = accountSlice.actions;
export default accountSlice.reducer;

```


```javascript: /src/reducers/index.js
import { combineReducers } from 'redux';

// export defaultã§å–å¾—ã—ãŸreducerã‚’ä»»æ„åã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import accountReducer from '../features/mypage/mypageSlice';
  :

const rootReducer = combineReducers({
  // ã“ã“ã«ä½œæˆã—ãŸReducerã‚’è¨˜è¿°ã™ã‚‹
  accountReducer,
});

export default rootReducer;
```

```javascript: /src/store/index.js
import { configureStore } from "@reduxjs/toolkit";

import rootReducer from "../reducers/index";

const store = configureStore({
  reducer: rootReducer,
});

export default store;
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

storeç®¡ç†ã¯ã‚¢ãƒ—ãƒªå…¨ä½“ã§è¡Œã†ãŸã‚ã€ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å‘¼ã¶å½¢ã«ã™ã‚‹ã®ãŒæœ€é©ã§ã™ã€‚

```javascript: /src/index.js
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import BaseApp from './BaseApp';
import { Provider } from 'react-redux';
import store from './store';

import { BrowserRouter } from 'react-router-dom'
  :

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <Provider store={store}>
        <BrowserRouter>
            <BaseApp />
        </BrowserRouter>
    </Provider>
  </React.StrictMode>
);

```

BaseApp > Mypageã®æ§‹æˆã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
Mypageã«propsã§å—ã‘æ¸¡ã—ãŸå€¤ã‚’å…ƒã«ã€èª­ã¿è¾¼ã¿æ™‚ã«APIã‚’å‚ç…§ã—ã¦JSONã§è¿”ã£ã¦ããŸãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã•ã›ã‚‹ã¨ã„ã†æµã‚Œã«ãªã‚Šã¾ã™ã€‚
ã¾ãŸ `getAccountList` ã¯ä½¿ã£ã¦ã„ã¾ã›ã‚“ãŒã€ä½•ã‹ã—ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãŒå…¥ã£ãŸæ™‚ã«dispatchã—ã¦storeã‚’æ›´æ–°ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ãƒ‡ã‚¶ã‚¤ãƒ³å®Ÿè£…ã«ã¯[Material UI(MUI)](https://mui.com/material-ui/)ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒã€è©³ç´°ã¯å‰²æ„›ã—ã¾ã™ã€‚


```javascript: /src/pages/Mypage.js
import React, { useEffect } from 'react'

import { Link } from 'react-router-dom'
import { useSelector, useDispatch } from 'react-redux'
import { Box, Container, Grid, Typography, Breadcrumbs, Button, Table } from '@mui/material'
import { TableContainer, TableRow, TableCell, TableBody, Paper } from '@mui/material'
import NavigateNextIcon from '@mui/icons-material/NavigateNext';

import { fetchAccountList, getAccountList } from '../features/mypage/mypageSlice'

const Mypage = (props) => {

  const user_id = props.user_id;

  const itemsAccount = useSelector((state) => state.accountReducer.items);
  const dispatch = useDispatch();

  useEffect(() => {
    dispatch(fetchAccountList(user_id));
  }, [dispatch, user_id]);

  const usersList = itemsAccount;
  
  const breadcrumbs = [
    { name: 'ãƒ›ãƒ¼ãƒ ', href: '/dashboard/' },
    { name: 'ãƒã‚¤ãƒšãƒ¼ã‚¸' },
  ];    

  return (
    <Container className='page-maincontents'>
        :

      <Box className='section-wrapper'>
        <Grid container className='section-header'>
          <Grid item className='section-title'>
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
          </Grid>
        </Grid>

        <TableContainer component={Paper}>
          <Table sx={{ minWidth: 650 }} aria-label="simple table">
            <TableBody>
              <TableRow >
                <TableCell component="th" scope="row">
                  ID
                </TableCell>
                <TableCell align="right">{usersList.id}</TableCell>
              </TableRow>
              <TableRow >
                <TableCell component="th" scope="row">
                  æ°å
                </TableCell>
                <TableCell align="right">{usersList.name}</TableCell>
              </TableRow>
              <TableRow >
                <TableCell component="th" scope="row">
                  ãƒ¦ãƒ¼ã‚¶ãƒ¼å
                </TableCell>
                <TableCell align="right">{usersList.username}</TableCell>
              </TableRow>
              <TableRow >
                <TableCell component="th" scope="row">
                  Email
                </TableCell>
                <TableCell align="right">{usersList.email}</TableCell>
              </TableRow>
              <TableRow >
                <TableCell component="th" scope="row">
                  é›»è©±ç•ªå·
                </TableCell>
                <TableCell align="right">{usersList.phone}</TableCell>
              </TableRow>
              <TableRow >
                <TableCell component="th" scope="row">
                  Webã‚µã‚¤ãƒˆ
                </TableCell>
                <TableCell align="right">{usersList.website}</TableCell>
              </TableRow>
            </TableBody>
          </Table>
        </TableContainer>

          :
      </Box>
    </Container>
  )
}

export default Mypage
```


## å®Ÿè£…ãƒ“ãƒ¥ãƒ¼ãƒ»ã¾ã¨ã‚
![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2024-01-25 17.52.06.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/76115/289c0451-fec3-d191-a858-d6f1b0f880d9.png)

ãƒ­ãƒ¼ã‚«ãƒ«ã§ç”»é¢ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸéš›ã®èª­ã¿è¾¼ã¿ã®æ—©ã•ã‚’å®Ÿæ„Ÿã§ããŸã®ã§ã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãŒå…¥ã£ãŸå ´åˆã§ã‚‚å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã¯Reduxã®å…¬å¼ã‚µã‚¤ãƒˆã«è¿‘ã„æ§‹æˆã‚’æ„è­˜ã—ã¾ã—ãŸãŒã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆ / ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆçµ„ã¿æ–¹ã•ãˆåˆãˆã°ã„ãã‚‰ã§ã‚‚ã‚„ã‚Šã‚ˆã†ãŒã‚ã‚‹ã¨ã‚‚æ„Ÿã˜ã¾ã—ãŸã€‚
ã“ã“ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä»•æ§˜ã«ã‚ˆã‚Šã‘ã‚Šãªã®ã§ã€ä¸Šæµå·¥ç¨‹ã§ç€æ‰‹ã™ã‚‹éš›ã«ã¯æœ¬æ¥ã®æ­£ã—ã„ä½¿ã„æ–¹ã«ãªã‚‹ã‚ˆã†æ„è­˜ã—ã‚ˆã†ã¨æ€ã„ã¾ã—ãŸã€‚


### å‚è€ƒæ–‡çŒ®

- Getting Started with Redux

https://redux.js.org/introduction/getting-started

- React Hooks + Redux ToolKit (+ TypeScript + axios)ã§QiitaAPIã‚’ãŸãŸãï¼ˆéåŒæœŸå‡¦ç†ï¼‰

https://qiita.com/eiji-noguchi/items/484e3b9407b1744a5467

- Reduxã‚’æœ€ä½é™ã ã‘ã‚„ã‚‹ã€2020å¹´ç‰ˆã€‘

https://zenn.dev/nbr41to/articles/52360e6db88cfc290d1a

- Reduxã®å…¨ä½“åƒã‚’ã–ã£ãã‚Šç†è§£ã™ã‚‹å¥´

https://zenn.dev/yukiji/articles/8a69f1615e6705
